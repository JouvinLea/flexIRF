
Examples folder
==============

This folder contains several examples of FITS files generated using flexIRF software. They all may be generated using the examples described [here](../README.md).

The following FITS files are available:


```shell  
examples/testEffArea.fits       
examples/testParamEffArea.fits
examples/alltest.fits
examples/testRoot2FITS_converter.fits
```

**Detailed description will be ready soon...**

testEffArea.fits       
--------------

This file, generated by the "IRFsimpleWriteIrf.cc" macro, contains the information defining a mock effective area as a histogram of 9 bins. The information is distributed as follows:

```shell  
> ftlist testEffArea.fits H

        Name               Type       Dimensions
        ----               ----       ----------
HDU 1   Primary Array      Null Array                               
HDU 2   ENERGY_BINS        BinTable     1 cols x 10 rows            
HDU 3   EFFAREA_NUM        Image      Real4(9) 
```

IRF elements (effective area here) are stored as Image HDUs while their dependencies (energy, theta, phi, etc...) are defined in a separate binary table. In this case, as the effective area is stored as a histogram, HDU 2 "ENERGY_BINS" is the "axis HDU" which stores the bin edges of the IRF element (together with the information regarding the variable type (energy), units(TeV), scale (log), etc..) as a binary table. HDU 3 "EFFAREA_NUM" stores the actual IRF element values for each bin defined by the axis HDUs.

The primary HDU currently contains no meaningful information of the FITS file, as it will be focused on defining the provenance of the generated IRFs. The binary table header is the following:

```shell  
> ftlist testEffArea.fits[1] K
XTENSION= 'BINTABLE'           / binary table extension
BITPIX  =                    8 / 8-bit bytes
NAXIS   =                    2 / 2-dimensional binary table
NAXIS1  =                    4 / width of table in bytes
NAXIS2  =                   10 / number of rows in table
PCOUNT  =                    0 / size of special data area
GCOUNT  =                    1 / one data group (required keyword)
TFIELDS =                    1 / number of fields in each row
TTYPE1  = 'ENERGY  '           / label for field   1
TFORM1  = 'E       '           / data format of field: 4-byte REAL
TUNIT1  = 'TeV     '           / physical unit of field
EXTNAME = 'ENERGY_BINS'        / name of this binary table extension
AXISTYPE=                    1 / Axis Type (see GIRFAxis.h for details)
VARTYPE =                    1 / Variable Type (see GIRFAxis.h for details)
ISLOG   =                    1 / If true, logarithm of the variable is stored
HDUCLASS= 'CTA     '           / FITS file following the CTA data format
HDUCLAS1= 'IRM     '           / Instrument Response Model HDU
HDUCLAS2= 'AXIS    '           / Axis HDU
HDUCLAS3= 'BINS    '           / Variable Type (see GIRFAxis.h for details)
HDUCLAS4=                    1 / Axis ID
LONGSTRN= 'OGIP 1.0'           / The HEASARC Long String Convention may be used.
COMMENT   This FITS file may contain long string keyword values that are
COMMENT   continued over multiple keywords.  The HEASARC convention uses the &
COMMENT   character at the end of each substring which is then continued
COMMENT   on the next keyword which has the name CONTINUE.
END
```

Where TTYPEnnn and TUNITnnn keywords describe the type and unit of the specific axis, AXISTYPE the axis sub-type (currently histograms or parametrized), VARTYPE the internal code of the variable type (which may be removed, as it is duplicated with TTYPEnnn) and ISLOG designates if the axis values are stored in a logarithmic scale. HDUCLASS is a general identifier of the data format (should be general to all CTA data format) and HDUCLASn contains the HDU sub-class.

The image HDU header containing the IRF values




alltest.fits
--------------