
language: python # a lie because shippable "doesn't support" cpp
os:
    - linux
notifications:
    email: false
before_install:
#    - sudo apt-get update -qq -y
#    - sudo apt-get install zlib1g-dev
#    - sudo add-apt-repository ppa:staticfloat/julia-deps -y
#    - sudo apt-get update -qq -y
#    - sudo apt-get install patchelf gfortran llvm-3.3-dev libsuitesparse-dev libopenblas-dev liblapack-dev libarpack2-dev libfftw3-dev libgmp-dev libpcre3-dev libunwind7-dev libdouble-conversion-dev libopenlibm-dev librmath-dev libmpfr-dev -y
    - sudo apt-get install cmake
    - wget ftp://heasarc.gsfc.nasa.gov/software/fitsio/c/cfitsio3370.tar.gz;
      tar -xzvf cfitsio3370.tar.gz;
      ./configure;
      make;
      make install;
      
script:
    - . ./setup.sh;
      cd build/;
      make;
    - ./bin/IRFconverter_root2FITS ../dummy/dummyconfig.txt ../prodfiles/Performance_2Q_Aar_50h_20150505.root
    - ./bin/IRFgenerator_rootio ../dummy/dummyconfig.txt ../prodfiles/DESY.d20140105.Erec1.V3.ID0NIM2.prod2-Tenerife-NS.N.2NN-MST.180000s.root
    - ./bin/IRFmerger_fitsio ../dummy/dummyconfig.txt ../dummy/dummypdf-2D.txt
    - ./bin/IRFsimpleTests

