
language: python # a lie because shippable "doesn't support" cpp
os:
    - linux
notifications:
    email: false
before_install:
    - sudo apt-get install cmake
    - wget ftp://heasarc.gsfc.nasa.gov/software/fitsio/c/cfitsio3370.tar.gz;
    - tar -xzvf cfitsio3370.tar.gz;
    - cd cfitsio
    - ./configure --prefix=$PWD;
    - make;
    - make install; 
    - export LD_LIBRARY_PATH=$PWD/lib:$LD_LIBRARY_PATH;
    - export PATH=$PWD/include:$PATH;
    - echo $LD_LIBRARY_PATH;
    - echo $PATH;
    - cd ..;

script:
    - . ./setup.sh;
    - cd build/;
    - make;
    - ./bin/IRFconverter_root2FITS ../dummy/dummyconfig.txt ../prodfiles/Performance_2Q_Aar_50h_20150505.root
    - ./bin/IRFgenerator_rootio ../dummy/dummyconfig.txt ../prodfiles/DESY.d20140105.Erec1.V3.ID0NIM2.prod2-Tenerife-NS.N.2NN-MST.180000s.root
    - ./bin/IRFmerger_fitsio ../dummy/dummyconfig.txt ../dummy/dummypdf-2D.txt
    - ./bin/IRFsimpleTests

