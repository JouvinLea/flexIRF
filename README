== Installation ==

Build using:
 . ./setup.sh

which creates the build/ subdirectory and runs CMake to configure your build. After this, cd into the build/ subdirectory and run 

 make

to build the full project

== Documentation ==

IRFconverter_root2FITS:

This tool takes a dummy configuration file and (for now), the performance file "Performance_2Q_Aar_50h_20150217.root". Run the following
command from the build directory to convert the root histograms in the performance file into the fits format being developed at IFAE.

Example -

./bin/IRFconverter_root2FITS ../../dummy/dummyconfig.txt ../prodfiles/Performance_2Q_Aar_50h_20150217.root

Output will be

alltest.fits

IRFgenerator_rootio:

For the moment, this program reads in a dummy configuration file (located in IRM/dummy/dummyconfig.txt) 
and a CTA analysis file (located in IRM/prodfiles/DESY.d20140105.Erec1.V3.ID0NIM2.prod2-Tenerife-NS.N.2NN-MST.180000s.root) 
and generates three fits files ( Ebias_offaxis.fits (2D), ERes_offaxis.fits (2D) and AngRes_offaxis.fits (3D) ) in the build directory

Example -

In the build directory run

./bin/IRFgenerator_rootio ../dummy/dummyconfig.txt ../prodfiles/DESY.d20140105.Erec1.V3.ID0NIM2.prod2-Tenerife-NS.N.2NN-MST.180000s.root

Output will be 

ERes_offaxis.fits, Ebias_offaxis.fits and AngRes_offaxis.fits

IRFmerger_fitsio:

Reads in a dummy configuration file (located in IRM/dummy/dummyconfig.txt)
and a filelist of fits files to merge (located in IRM/dummy/, can merge 2D or 3D fits file with dummypdf-2D.txt or dummypdf-3D.txt)
and creates a fits cube called "datacube_test.fits" (of dimensions 21 * 7 * 25, or 21 * 7 * 7 * 25)

dummypdf-2D.txt has 25 instances of the "ERes_offaxis.fits" which is a 21 * 7 2D fits file. The "Z" axis is arbitrary (of 25 bins) and for testing only. 

and

dummypdf-3D.txt has 25 instances of the "AngRes_offaxis.fits" which is a 21 * 7 * 7 3D fits file. The "Z" axis is arbitrary (of 25 bins) and for testing only. 

Example -

In the build directory run

./bin/IRFmerger_fitsio ../dummy/dummyconfig.txt ../dummy/dummypdf-2D.txt

or 

./bin/IRFmerger_fitsio ../dummy/dummyconfig.txt ../dummy/dummypdf-3D.txt

Output will be 

datacube_test.fits
